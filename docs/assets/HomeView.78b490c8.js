import{o as a,c as o,a as t,g as x,u as j,b as z,d as _,n as v,e as $,t as h,h as D,F as y,r as B,f as g,_ as G,i as J,j as k,k as Q,l as V,S as R,w as W,m as X,v as ee,p as te,q as b,s as M,x as ae,D as T,y as ne}from"./index.7ab18b30.js";import{t as oe}from"./tracker.d5d900f2.js";const se={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},re=t("path",{fill:"currentColor",d:"M3 5h18v4H3V5m0 5h18v4H3v-4m0 5h18v4H3v-4Z"},null,-1),le=[re];function ie(n,i){return a(),o("svg",se,le)}var ce={name:"mdi-view-sequential",render:ie};const ue={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},de=t("path",{fill:"currentColor",d:"M3 19h6v-7H3v7m7 0h12v-7H10v7M3 5v6h19V5H3Z"},null,-1),he=[de];function _e(n,i){return a(),o("svg",ue,he)}var ve={name:"mdi-view-compact",render:_e};const me={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ge=t("path",{fill:"currentColor",d:"m18 21l-4-4h3V7h-3l4-4l4 4h-3v10h3M2 19v-2h10v2M2 13v-2h7v2M2 7V5h4v2H2Z"},null,-1),fe=[ge];function pe(n,i){return a(),o("svg",me,fe)}var ke={name:"mdi-sort",render:pe};const we={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},$e=t("path",{fill:"currentColor",d:"M14 12v7.88c.04.3-.06.62-.29.83a.996.996 0 0 1-1.41 0l-2.01-2.01a.989.989 0 0 1-.29-.83V12h-.03L4.21 4.62a1 1 0 0 1 .17-1.4c.19-.14.4-.22.62-.22h14c.22 0 .43.08.62.22a1 1 0 0 1 .17 1.4L14.03 12H14Z"},null,-1),be=[$e];function ye(n,i){return a(),o("svg",we,be)}var Be={name:"mdi-filter",render:ye};const Ce={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Le=t("path",{fill:"currentColor",d:"M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5l-1.5 1.5l-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16A6.5 6.5 0 0 1 3 9.5A6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14S14 12 14 9.5S12 5 9.5 5Z"},null,-1),Se=[Le];function Ve(n,i){return a(),o("svg",Ce,Se)}var Me={name:"mdi-search",render:Ve};const xe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ae=t("path",{fill:"currentColor",d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z"},null,-1),He=[Ae];function Ne(n,i){return a(),o("svg",xe,He)}var De={name:"mdi-close",render:Ne};const Re={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Te=t("path",{fill:"currentColor",d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7c0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3a3 3 0 0 0-3-3a3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3a3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66c0 1.61 1.31 2.91 2.92 2.91c1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"},null,-1),Ie=[Te];function qe(n,i){return a(),o("svg",Re,Ie)}var Pe={name:"mdi-share-variant",render:qe};const Fe={class:"blog-peek"},Ze=["src"],Oe=t("div",{class:"blog-peek--divider"},null,-1),Ee={class:"blog-peek--author"},Ke=["src"],Ue={class:"author-info"},Ye=["href","title"],je={key:1,class:"author-name"},ze={class:"created-at",title:"Created Timestamp"},Ge={class:"blog-peek--content"},Je={class:"blog-title"},Qe={class:"tags"},We={key:0,class:"blog-peek--footer"},Xe={"aria-label":"Share",title:"Share Post",class:"icon-button"},et={class:"read-time"},tt={computed:{minutesToRead(){return Math.round(this.contentLength/(100*6))}}},at=Object.assign(tt,{__name:"BlogPeek",props:{title:{type:String,required:!0},tags:{type:Array,required:!0},authorName:{type:String,required:!0},authorAvatar:{type:String,required:!0},authorLink:{type:String,default:null},createdAt:{type:[Date,String],required:!0},contentLength:{type:Number,default:0},detailView:{type:Boolean,default:!1},banner:{type:String,default:null}},setup(n){const i=x("fallback_banner_dark"),w=x("fallback_banner"),{dark:c}=j(),u=z(()=>c.value?i:w);return(m,f)=>{const p=Pe;return a(),o("div",Fe,[t("div",{class:v(["blog-peek--banner",{"blog-peek--banner--fallback":!n.banner}])},[n.banner||_(u)?(a(),o("img",{key:0,src:n.banner||_(u),alt:"Blog Banner",class:v({"fallback-banner":!n.banner,"regular-banner":n.banner})},null,10,Ze)):$("",!0)],2),Oe,t("div",Ee,[t("img",{src:n.authorAvatar,class:"author-avatar circle",alt:"Author Avatar"},null,8,Ke),t("div",Ue,[n.authorLink?(a(),o("a",{key:0,href:n.authorLink,target:"_blank",title:n.authorName,class:"author-link"},h(n.authorName),9,Ye)):(a(),o("div",je,h(n.authorName),1)),t("div",ze,h(_(D)(n.createdAt).format("MMM DD, YYYY"))+" ("+h(_(D)(n.createdAt).fromNow())+") ",1)])]),t("div",Ge,[t("div",Je,h(n.title),1),t("div",Qe,[(a(!0),o(y,null,B(n.tags,(d,C)=>(a(),o("div",{key:C,class:"tag-item"}," #\xA0"+h(d),1))),128))])]),n.detailView?$("",!0):(a(),o("div",We,[t("button",Xe,[g(p,{class:"one-rem"})]),t("div",et,h(m.minutesToRead)+" minutes of read ",1)]))])}}});const nt={class:"home-view"},ot=["src"],st={class:"home-view--search"},rt=["onKeyup"],lt={class:"home-view--search--actions"},it=["onClick"],ct=["onClick"],ut=["title"],dt={key:0,class:"home-view--no-results"},ht={class:"message"},_t={__name:"HomeView",setup(n){const{currentRoute:i,push:w}=J(),c=k([]),u=k(""),m=k(!1),f=k(null),p=k(null),d=k(null);Q(async()=>{C(),oe.trackPageView()});const C=()=>{var e;m.value=!0,f.value=i.value.params.filterBy,p.value=(e=i.value.params)==null?void 0:e.sortBy,c.value=V(),L(p.value),m.value=!1,d.value=R.getHomeViewMode()},I=x("loading");W(u,()=>{u.value||(c.value=V())});const q=()=>{d.value=d.value==="list"?"grid":"list",R.saveHomeViewMode(d.value)},P=e=>{const l=e.seriesTitle;l?window.location.href=`/#/blog/${encodeURIComponent(l)}/${encodeURIComponent(e.title)}`:window.location.href=`/#/blog/${encodeURIComponent(e.title)}`},A=()=>{m.value=!0;const e=[],l=u.value.toLowerCase();f.value?c.value.forEach(r=>{f.value==="tag"?r.tags&&r.tags.join(" ").toLowerCase().includes(l)&&e.push(r):r.authorName.toLowerCase().includes(l)&&e.push(r)}):p.value?c.value.forEach(r=>{r.title.toLowerCase().includes(l)&&e.push(r)}):c.value.forEach(r=>{r.title.toLowerCase().includes(l)&&e.push(r)}),c.value=e,m.value=!1},H=()=>{u.value=""},N=()=>{w({name:"Home"}).then(()=>{c.value=V(),L(p.value),u.value=""})},F=e=>{i.value.params.sortBy===e?N():w({name:"Sort",params:{sortBy:e}}).then(()=>{f.value=e,L(e)})},Z=e=>{i.value.params.filterBy===e?N():w({name:"Filter",params:{filterBy:e}}).then(()=>{f.value=e})},L=e=>{e==="alpha"?c.value.sort((l,r)=>l.title.localeCompare(r.title)):c.value.sort((l,r)=>r.createdAt-l.createdAt)};return(e,l)=>{const r=De,O=Me,E=Be,K=ke,U=ve,Y=ce;return a(),o("div",nt,[m.value?(a(),o("img",{key:0,src:_(I),height:"30",width:"30",alt:"Loading Spinner",class:"spinner"},null,8,ot)):$("",!0),t("div",st,[X(t("input",{id:"search",class:"home-view--search--input","onUpdate:modelValue":l[0]||(l[0]=s=>u.value=s),placeholder:"Search...",onKeyup:te(A,["enter"])},null,40,rt),[[ee,u.value]]),t("div",lt,[u.value.length>0?(a(),o("button",{key:0,class:"clear-button",onClick:H},[g(r)])):$("",!0),t("button",{class:"icon-button",title:"Search",onClick:A},[g(O,{class:"one-rem"})]),g(_(T),null,{trigger:b(()=>[t("button",{class:v(["icon-button",{filtering:e.$route.name==="Filter"}]),title:"Filter"},[g(E,{class:"one-rem"})],2)]),drop:b(()=>[(a(!0),o(y,null,B(_(ae),s=>(a(),o("div",{key:s.key,class:v(["menu-drop-item",{"item-active":e.$route.params.filterBy===s.key}]),onClick:S=>Z(s.key)},h(s.label),11,it))),128))]),_:1}),g(_(T),{class:"menu"},{trigger:b(()=>[t("button",{class:v(["icon-button",{sorting:e.$route.name==="Sort"}]),title:"Sort"},[g(K,{class:"one-rem"})],2)]),drop:b(()=>[(a(!0),o(y,null,B(_(ne),s=>(a(),o("div",{key:s.key,class:v(["menu-drop-item",{"item-active":e.$route.params.sortBy===s.key}]),onClick:S=>F(s.key)},h(s.label),11,ct))),128))]),_:1}),t("button",{class:v(["icon-button",{sorting:e.$route.name==="Sort"}]),title:d.value==="list"?"Grid View":"List View",onClick:l[1]||(l[1]=s=>q())},[d.value==="list"?(a(),M(U,{key:0,class:"one-rem"})):(a(),M(Y,{key:1,class:"one-rem"}))],10,ut)])]),t("div",{class:v({"home-view--list":d.value==="list","home-view--grid":d.value!=="list"})},[(a(!0),o(y,null,B(c.value,(s,S)=>(a(),M(_(at),{key:S,title:s.title,"created-at":s.createdAt,"author-name":s.authorName,"author-link":s.authorLink,"author-avatar":s.authorAvatar,"content-length":s.contentLength,tags:s.tags,banner:s.banner,onClick:vt=>P(s)},null,8,["title","created-at","author-name","author-link","author-avatar","content-length","tags","banner","onClick"]))),128)),c.value.length===0?(a(),o("div",dt,[t("div",ht,'Sorry, no results found for "'+h(u.value)+'"',1),t("button",{onClick:H},"Reset Search")])):$("",!0)],2)])}}};var ft=G(_t,[["__scopeId","data-v-56103f1a"]]);export{ft as default};
