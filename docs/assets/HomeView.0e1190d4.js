import{o as s,c as i,a,_ as N,u as U,r as u,b as j,g as y,w as E,d as M,e as _,f as T,v as Y,h as Z,i as w,n as v,F as P,j as z,t as q,k as G}from"./index.e9c64e77.js";import{B as J}from"./BlogPeek.35e8e5f8.js";const O={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Q=a("path",{fill:"currentColor",d:"m18 21l-4-4h3V7h-3l4-4l4 4h-3v10h3M2 19v-2h10v2M2 13v-2h7v2M2 7V5h4v2H2Z"},null,-1),W=[Q];function X(g,c){return s(),i("svg",O,W)}var ee={name:"mdi-sort",render:X};const te={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ae=a("path",{fill:"currentColor",d:"M14 12v7.88c.04.3-.06.62-.29.83a.996.996 0 0 1-1.41 0l-2.01-2.01a.989.989 0 0 1-.29-.83V12h-.03L4.21 4.62a1 1 0 0 1 .17-1.4c.19-.14.4-.22.62-.22h14c.22 0 .43.08.62.22a1 1 0 0 1 .17 1.4L14.03 12H14Z"},null,-1),oe=[ae];function ne(g,c){return s(),i("svg",te,oe)}var se={name:"mdi-filter",render:ne};const re={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ie=a("path",{fill:"currentColor",d:"M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5l-1.5 1.5l-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16A6.5 6.5 0 0 1 3 9.5A6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14S14 12 14 9.5S12 5 9.5 5Z"},null,-1),le=[ie];function ce(g,c){return s(),i("svg",re,le)}var ue={name:"mdi-search",render:ce};const de={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},he=a("path",{fill:"currentColor",d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z"},null,-1),ve=[he];function me(g,c){return s(),i("svg",de,ve)}var pe={name:"mdi-close",render:me};const _e={class:"home-view"},ge=["src"],fe={class:"home-view--search"},we=["onKeyup"],be={class:"menu"},xe={key:0,class:"menu-drop"},ye={class:"menu"},ke={key:0,class:"menu-drop"},$e={class:"home-view--list"},Ce={key:0,class:"home-view--no-results"},Be={class:"message"},Le={__name:"HomeView",setup(g){const{currentRoute:c,push:b}=U(),r=u([]),l=u(""),d=u(!1),h=u(!1),m=u(!1),p=u(null),f=u(null);j(async()=>{S()});const S=()=>{var e;m.value=!0,p.value=c.value.params.filterBy,f.value=(e=c.value.params)==null?void 0:e.sortBy,r.value=y(),x(f.value),m.value=!1},A=new URL("/assets/loading.f90db703.png",self.location).href,R=e=>{const t=e.seriesTitle;t?window.location.href=`/#/blog/${encodeURIComponent(t)}/${encodeURIComponent(e.title)}`:window.location.href=`/#/blog/${encodeURIComponent(e.title)}`},k=()=>{m.value=!0;const e=[],t=l.value.toLowerCase();p.value?r.value.forEach(o=>{p.value==="tag"?o.tags&&o.tags.join(" ").toLowerCase().includes(t)&&e.push(o):o.authorName.toLowerCase().includes(t)&&e.push(o)}):f.value?r.value.forEach(o=>{o.title.toLowerCase().includes(t)&&e.push(o)}):r.value.forEach(o=>{o.title.toLowerCase().includes(t)&&e.push(o)}),r.value=e,m.value=!1},$=()=>{l.value=""};E(l,()=>{l.value||(r.value=y())});const V=()=>{h.value=!1,d.value=!d.value},D=()=>{d.value=!1,h.value=!h.value},C=()=>{b({name:"Home"}).then(()=>{r.value=y(),x(f.value),d.value=!1,h.value=!1,l.value=""})},B=e=>{c.value.params.sortBy===e?C():b({name:"Sort",params:{sortBy:e}}).then(()=>{p.value=e,h.value=!1,x(e)})},L=e=>{c.value.params.filterBy===e?C():b({name:"Filter",params:{filterBy:e}}).then(()=>{p.value=e,d.value=!1})},x=e=>{e==="date"?r.value.sort((t,o)=>o.createdAt-t.createdAt):r.value.sort((t,o)=>t.title.localeCompare(o.title))};return(e,t)=>{const o=pe,F=ue,H=se,I=ee;return s(),i("div",_e,[m.value?(s(),i("img",{key:0,src:M(A),height:"30",width:"30",alt:"loading",class:"spinner"},null,8,ge)):_("",!0),a("div",fe,[T(a("input",{id:"search","onUpdate:modelValue":t[0]||(t[0]=n=>l.value=n),placeholder:"Search...",onKeyup:Z(k,["enter"])},null,40,we),[[Y,l.value]]),l.value.length>0?(s(),i("button",{key:0,class:"clear-button",onClick:$},[w(o)])):_("",!0),a("button",{class:"icon-button",title:"Search",onClick:k},[w(F,{class:"one-rem"})]),a("div",be,[a("button",{class:v(["icon-button",{filtering:e.$route.name==="Filter"}]),title:"Filter",onClick:V},[w(H,{class:"one-rem"})],2),d.value?(s(),i("div",xe,[a("div",{class:v(["menu-drop-item",{"item-active":e.$route.params.filterBy==="author"}]),onClick:t[1]||(t[1]=n=>L("author"))}," Author ",2),a("div",{class:v(["menu-drop-item",{"item-active":e.$route.params.filterBy==="tag"}]),onClick:t[2]||(t[2]=n=>L("tag"))}," Tags ",2)])):_("",!0)]),a("div",ye,[a("button",{class:v(["icon-button",{sorting:e.$route.name==="Sort"}]),title:"Sort",onClick:D},[w(I,{class:"one-rem"})],2),h.value?(s(),i("div",ke,[a("div",{class:v(["menu-drop-item",{"item-active":e.$route.params.sortBy==="alpha"}]),onClick:t[3]||(t[3]=n=>B("alpha"))}," Alphabetically ",2),a("div",{class:v(["menu-drop-item",{"item-active":e.$route.params.sortBy==="date"}]),onClick:t[4]||(t[4]=n=>B("date"))}," Date Created ",2)])):_("",!0)])]),a("div",$e,[(s(!0),i(P,null,z(r.value,(n,K)=>(s(),G(M(J),{key:K,title:n.title,"created-at":n.createdAt,"author-name":n.authorName,"author-link":n.authorLink,"author-avatar":n.authorAvatar,"content-length":n.contentLength,tags:n.tags,banner:n.banner,onClick:Me=>R(n)},null,8,["title","created-at","author-name","author-link","author-avatar","content-length","tags","banner","onClick"]))),128)),r.value.length===0?(s(),i("div",Ce,[a("div",Be,'Sorry, no results found for "'+q(l.value)+'"',1),a("button",{onClick:$},"Reset Search")])):_("",!0)])])}}};var Re=N(Le,[["__scopeId","data-v-4075ee15"]]);export{Re as default};
