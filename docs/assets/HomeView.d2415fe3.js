import{o as a,c as s,a as t,g as x,u as z,b as G,d as h,n as v,e as b,t as d,h as D,F as C,r as L,f,_ as J,i as Q,j as g,k as W,l as y,S as R,w as X,m as ee,v as te,p as ae,q as B,s as M,x as ne,D as T,y as oe}from"./index.6bb58241.js";import{t as se}from"./tracker.d5d900f2.js";const le={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},re=t("path",{fill:"currentColor",d:"M3 5h18v4H3V5m0 5h18v4H3v-4m0 5h18v4H3v-4Z"},null,-1),ie=[re];function ce(n,r){return a(),s("svg",le,ie)}var ue={name:"mdi-view-sequential",render:ce};const de={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},he=t("path",{fill:"currentColor",d:"M3 19h6v-7H3v7m7 0h12v-7H10v7M3 5v6h19V5H3Z"},null,-1),_e=[he];function ve(n,r){return a(),s("svg",de,_e)}var me={name:"mdi-view-compact",render:ve};const ge={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},fe=t("path",{fill:"currentColor",d:"m18 21l-4-4h3V7h-3l4-4l4 4h-3v10h3M2 19v-2h10v2M2 13v-2h7v2M2 7V5h4v2H2Z"},null,-1),pe=[fe];function ke(n,r){return a(),s("svg",ge,pe)}var we={name:"mdi-sort",render:ke};const $e={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},be=t("path",{fill:"currentColor",d:"M14 12v7.88c.04.3-.06.62-.29.83a.996.996 0 0 1-1.41 0l-2.01-2.01a.989.989 0 0 1-.29-.83V12h-.03L4.21 4.62a1 1 0 0 1 .17-1.4c.19-.14.4-.22.62-.22h14c.22 0 .43.08.62.22a1 1 0 0 1 .17 1.4L14.03 12H14Z"},null,-1),ye=[be];function Be(n,r){return a(),s("svg",$e,ye)}var Ce={name:"mdi-filter",render:Be};const Le={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Se=t("path",{fill:"currentColor",d:"M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5l-1.5 1.5l-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16A6.5 6.5 0 0 1 3 9.5A6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14S14 12 14 9.5S12 5 9.5 5Z"},null,-1),Ve=[Se];function Me(n,r){return a(),s("svg",Le,Ve)}var xe={name:"mdi-search",render:Me};const Ae={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},He=t("path",{fill:"currentColor",d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z"},null,-1),Ne=[He];function De(n,r){return a(),s("svg",Ae,Ne)}var Re={name:"mdi-close",render:De};const Te={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ie=t("path",{fill:"currentColor",d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7c0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3a3 3 0 0 0-3-3a3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3a3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66c0 1.61 1.31 2.91 2.92 2.91c1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"},null,-1),qe=[Ie];function Pe(n,r){return a(),s("svg",Te,qe)}var Fe={name:"mdi-share-variant",render:Pe};const Ze={class:"blog-peek"},Oe=["src"],Ee=t("div",{class:"blog-peek--divider"},null,-1),Ke={class:"blog-peek--author"},Ue=["src"],Ye={class:"author-info"},je=["href","title"],ze={key:1,class:"author-name"},Ge={class:"created-at",title:"Created Timestamp"},Je={class:"blog-peek--content"},Qe={class:"blog-title"},We={class:"tags"},Xe={key:0,class:"blog-peek--footer"},et={"aria-label":"Share",title:"Share Post",class:"icon-button"},tt={class:"read-time"},at={computed:{minutesToRead(){return Math.round(this.contentLength/(100*6))}}},nt=Object.assign(at,{__name:"BlogPeek",props:{title:{type:String,required:!0},tags:{type:Array,required:!0},authorName:{type:String,required:!0},authorAvatar:{type:String,required:!0},authorLink:{type:String,default:null},createdAt:{type:[Date,String],required:!0},contentLength:{type:Number,default:0},detailView:{type:Boolean,default:!1},banner:{type:String,default:null}},setup(n){const r=x("fallback_banner_dark"),w=x("fallback_banner"),{dark:_}=z(),c=G(()=>_.value?r:w);return(i,p)=>{const m=Fe;return a(),s("div",Ze,[t("div",{class:v(["blog-peek--banner",{"blog-peek--banner--fallback":!n.banner}])},[n.banner||h(c)?(a(),s("img",{key:0,src:n.banner||h(c),alt:"Blog Banner",class:v({"fallback-banner":!n.banner,"regular-banner":n.banner})},null,10,Oe)):b("",!0)],2),Ee,t("div",Ke,[t("img",{src:n.authorAvatar,class:"author-avatar circle",alt:"Author Avatar"},null,8,Ue),t("div",Ye,[n.authorLink?(a(),s("a",{key:0,href:n.authorLink,target:"_blank",title:n.authorName,class:"author-link"},d(n.authorName),9,je)):(a(),s("div",ze,d(n.authorName),1)),t("div",Ge,d(h(D)(n.createdAt).format("MMM DD, YYYY"))+" ("+d(h(D)(n.createdAt).fromNow())+") ",1)])]),t("div",Je,[t("div",Qe,d(n.title),1),t("div",We,[(a(!0),s(C,null,L(n.tags,(k,u)=>(a(),s("div",{key:u,class:"tag-item"}," #\xA0"+d(k),1))),128))])]),n.detailView?b("",!0):(a(),s("div",Xe,[t("button",et,[f(m,{class:"one-rem"})]),t("div",tt,d(i.minutesToRead)+" minutes of read ",1)]))])}}});const ot={class:"home-view"},st=["src"],lt={class:"home-view--search"},rt=["onKeyup"],it={class:"home-view--search--actions"},ct=["onClick"],ut=["onClick"],dt=["title"],ht={key:0,class:"home-view--no-results"},_t={class:"message"},vt={__name:"HomeView",setup(n){const{currentRoute:r,push:w}=Q(),_=g([]),c=g(""),i=g([]),p=g(!1),m=g(null),k=g(null),u=g(null);W(async()=>{I(),se.trackPageView()});const I=()=>{var e;p.value=!0,m.value=r.value.params.filterBy,k.value=(e=r.value.params)==null?void 0:e.sortBy,_.value=y(),i.value=y(),S(k.value),p.value=!1,u.value=R.getHomeViewMode()},q=x("loading");X(c,()=>{c.value||(_.value=y(),i.value=_.value)});const P=()=>{u.value=u.value==="list"?"grid":"list",R.saveHomeViewMode(u.value)},F=e=>{const o=e.seriesTitle;o?window.location.href=`/#/blog/${encodeURIComponent(o)}/${encodeURIComponent(e.title)}`:window.location.href=`/#/blog/${encodeURIComponent(e.title)}`},A=()=>{p.value=!0;const e=c.value.toLowerCase();i.value=[],m.value?_.value.forEach(o=>{m.value==="tag"?o.tags&&o.tags.join(" ").toLowerCase().includes(e)&&i.value.push(o):o.authorName.toLowerCase().includes(e)&&i.value.push(o)}):k.value?_.value.forEach(o=>{o.title.toLowerCase().includes(e)&&i.value.push(o)}):_.value.forEach(o=>{o.title.toLowerCase().includes(e)&&i.value.push(o)}),p.value=!1},H=()=>{c.value=""},N=()=>{w({name:"Home"}).then(()=>{_.value=y(),S(k.value),c.value=""})},Z=e=>{r.value.params.sortBy===e?N():w({name:"Sort",params:{sortBy:e}}).then(()=>{m.value=e,S(e)})},O=e=>{r.value.params.filterBy===e?N():w({name:"Filter",params:{filterBy:e}}).then(()=>{m.value=e})},S=e=>{e==="alpha"?i.value.sort((o,$)=>o.title.localeCompare($.title)):i.value.sort((o,$)=>$.createdAt-o.createdAt)};return(e,o)=>{const $=Re,E=xe,K=Ce,U=we,Y=me,j=ue;return a(),s("div",ot,[p.value?(a(),s("img",{key:0,src:h(q),height:"30",width:"30",alt:"Loading Spinner",class:"spinner"},null,8,st)):b("",!0),t("div",lt,[ee(t("input",{id:"search",class:"home-view--search--input","onUpdate:modelValue":o[0]||(o[0]=l=>c.value=l),placeholder:"Search...",onKeyup:ae(A,["enter"])},null,40,rt),[[te,c.value]]),t("div",it,[c.value.length>0?(a(),s("button",{key:0,class:"clear-button",onClick:H},[f($)])):b("",!0),t("button",{class:"icon-button",title:"Search",onClick:A},[f(E,{class:"one-rem"})]),f(h(T),null,{trigger:B(()=>[t("button",{class:v(["icon-button",{filtering:e.$route.name==="Filter"}]),title:"Filter"},[f(K,{class:"one-rem"})],2)]),drop:B(()=>[(a(!0),s(C,null,L(h(ne),l=>(a(),s("div",{key:l.key,class:v(["menu-drop-item",{"item-active":e.$route.params.filterBy===l.key}]),onClick:V=>O(l.key)},d(l.label),11,ct))),128))]),_:1}),f(h(T),{class:"menu"},{trigger:B(()=>[t("button",{class:v(["icon-button",{sorting:e.$route.name==="Sort"}]),title:"Sort"},[f(U,{class:"one-rem"})],2)]),drop:B(()=>[(a(!0),s(C,null,L(h(oe),l=>(a(),s("div",{key:l.key,class:v(["menu-drop-item",{"item-active":e.$route.params.sortBy===l.key}]),onClick:V=>Z(l.key)},d(l.label),11,ut))),128))]),_:1}),t("button",{class:v(["icon-button",{sorting:e.$route.name==="Sort"}]),title:u.value==="list"?"Grid View":"List View",onClick:o[1]||(o[1]=l=>P())},[u.value==="list"?(a(),M(Y,{key:0,class:"one-rem"})):(a(),M(j,{key:1,class:"one-rem"}))],10,dt)])]),t("div",{class:v({"home-view--list":u.value==="list","home-view--grid":u.value!=="list"})},[(a(!0),s(C,null,L(i.value,(l,V)=>(a(),M(h(nt),{key:V,title:l.title,"created-at":l.createdAt,"author-name":l.authorName,"author-link":l.authorLink,"author-avatar":l.authorAvatar,"content-length":l.contentLength,tags:l.tags,banner:l.banner,onClick:mt=>F(l)},null,8,["title","created-at","author-name","author-link","author-avatar","content-length","tags","banner","onClick"]))),128)),i.value.length===0?(a(),s("div",ht,[t("div",_t,'Sorry, no results found for "'+d(c.value)+'"',1),t("button",{onClick:H},"Reset Search")])):b("",!0)],2)])}}};var pt=J(vt,[["__scopeId","data-v-46ff7410"]]);export{pt as default};
