const s={TRACK_EVENT:"trackEvent",TRACK_LINK:"trackLink",TRACK_SEARCH:"trackSiteSearch",TRACK_VIEW:"trackPageView",TRACK_ECOMMERCE_ORDER:"trackEcommerceOrder",TRACK_ECOMMERCE_CART_UPDATE:"trackEcommerceCartUpdate"};var p=globalThis&&globalThis.__rest||function(n,t){var a={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&t.indexOf(e)<0&&(a[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(n);r<e.length;r++)t.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(n,e[r])&&(a[e[r]]=n[e[r]]);return a};class v{constructor(t){if(!t.urlBase)throw new Error("Matomo urlBase is required.");if(!t.siteId)throw new Error("Matomo siteId is required.");this.initialize(t)}initialize({urlBase:t,siteId:a,userId:e,trackerUrl:r,srcUrl:o,disabled:i,heartBeat:c,linkTracking:w=!0,configurations:k={}}){var h;const E=t[t.length-1]!=="/"?`${t}/`:t;if(typeof window=="undefined"||(window._paq=window._paq||[],window._paq.length!==0)||i)return;this.pushInstruction("setTrackerUrl",r!=null?r:`${E}matomo.php`),this.pushInstruction("setSiteId",a),e&&this.pushInstruction("setUserId",e),Object.entries(k).forEach(([f,l])=>{l instanceof Array?this.pushInstruction(f,...l):this.pushInstruction(f,l)}),(!c||c&&c.active)&&this.enableHeartBeatTimer((h=c&&c.seconds)!==null&&h!==void 0?h:15),this.enableLinkTracking(w);const d=document,m=d.createElement("script"),u=d.getElementsByTagName("script")[0];m.type="text/javascript",m.async=!0,m.defer=!0,m.src=o||`${E}matomo.js`,u&&u.parentNode&&u.parentNode.insertBefore(m,u)}enableHeartBeatTimer(t){this.pushInstruction("enableHeartBeatTimer",t)}enableLinkTracking(t){this.pushInstruction("enableLinkTracking",t)}trackEventsForElements(t){t.length&&t.forEach(a=>{a.addEventListener("click",()=>{const{matomoCategory:e,matomoAction:r,matomoName:o,matomoValue:i}=a.dataset;if(e&&r)this.trackEvent({category:e,action:r,name:o,value:Number(i)});else throw new Error("Error: data-matomo-category and data-matomo-action are required.")})})}trackEvents(){const t='[data-matomo-event="click"]';let a=!1;if(this.mutationObserver||(a=!0,this.mutationObserver=new MutationObserver(e=>{e.forEach(r=>{r.addedNodes.forEach(o=>{if(!(o instanceof HTMLElement))return;o.matches(t)&&this.trackEventsForElements([o]);const i=Array.from(o.querySelectorAll(t));this.trackEventsForElements(i)})})})),this.mutationObserver.observe(document,{childList:!0,subtree:!0}),a){const e=Array.from(document.querySelectorAll(t));this.trackEventsForElements(e)}}stopObserving(){this.mutationObserver&&this.mutationObserver.disconnect()}trackEvent(t){var{category:a,action:e,name:r,value:o}=t,i=p(t,["category","action","name","value"]);if(a&&e)this.track(Object.assign({data:[s.TRACK_EVENT,a,e,r,o]},i));else throw new Error("Error: category and action are required.")}trackSiteSearch(t){var{keyword:a,category:e,count:r}=t,o=p(t,["keyword","category","count"]);if(a)this.track(Object.assign({data:[s.TRACK_SEARCH,a,e,r]},o));else throw new Error("Error: keyword is required.")}trackLink({href:t,linkType:a="link"}){this.pushInstruction(s.TRACK_LINK,t,a)}trackPageView(t){this.track(Object.assign({data:[s.TRACK_VIEW]},t))}addEcommerceItem({sku:t,productName:a,productCategory:e,productPrice:r=0,productQuantity:o=1}){this.pushInstruction("addEcommerceItem",t,a,e,r,o)}removeEcommerceItem({sku:t}){this.pushInstruction("removeEcommerceItem",t)}clearEcommerceCart(){this.pushInstruction("clearEcommerceCart")}trackEcommerceOrder({orderId:t,orderRevenue:a,orderSubTotal:e,taxAmount:r,shippingAmount:o,discountOffered:i=!1}){this.track({data:[s.TRACK_ECOMMERCE_ORDER,t,a,e,r,o,i]})}trackEcommerceCartUpdate(t){this.pushInstruction(s.TRACK_ECOMMERCE_CART_UPDATE,t)}setEcommerceView({sku:t,productName:a,productCategory:e,productPrice:r}){this.pushInstruction("setEcommerceView",t,a,e,r)}setEcommerceCategoryView(t){this.setEcommerceView({productCategory:t,productName:!1,sku:!1})}track({data:t=[],documentTitle:a=window.document.title,href:e,customDimensions:r=!1}){t.length&&(r&&Array.isArray(r)&&r.length&&r.map(o=>this.pushInstruction("setCustomDimension",o.id,o.value)),this.pushInstruction("setCustomUrl",e!=null?e:window.location.href),this.pushInstruction("setDocumentTitle",a),this.pushInstruction(...t))}pushInstruction(t,...a){return typeof window!="undefined"&&window._paq.push([t,...a]),this}}var T=v;const y=new T({urlBase:"https://www.jankaritech.com/piwik",siteId:2});export{y as t};
