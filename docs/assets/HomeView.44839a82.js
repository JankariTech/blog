import{o as s,c as i,a as n,_ as E,u as T,r as v,b as Y,g as k,w as Z,d as _,e as x,f as P,v as z,h as q,i as d,j as f,D as S,F as C,k as $,t as L,n as b,l as G}from"./index.9dfd69ad.js";import{B as J}from"./BlogPeek.e5f73215.js";const O={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Q=n("path",{fill:"currentColor",d:"m18 21l-4-4h3V7h-3l4-4l4 4h-3v10h3M2 19v-2h10v2M2 13v-2h7v2M2 7V5h4v2H2Z"},null,-1),W=[Q];function X(m,c){return s(),i("svg",O,W)}var ee={name:"mdi-sort",render:X};const te={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ae=n("path",{fill:"currentColor",d:"M14 12v7.88c.04.3-.06.62-.29.83a.996.996 0 0 1-1.41 0l-2.01-2.01a.989.989 0 0 1-.29-.83V12h-.03L4.21 4.62a1 1 0 0 1 .17-1.4c.19-.14.4-.22.62-.22h14c.22 0 .43.08.62.22a1 1 0 0 1 .17 1.4L14.03 12H14Z"},null,-1),oe=[ae];function ne(m,c){return s(),i("svg",te,oe)}var se={name:"mdi-filter",render:ne};const re={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ie=n("path",{fill:"currentColor",d:"M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5l-1.5 1.5l-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16A6.5 6.5 0 0 1 3 9.5A6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14S14 12 14 9.5S12 5 9.5 5Z"},null,-1),le=[ie];function ce(m,c){return s(),i("svg",re,le)}var de={name:"mdi-search",render:ce};const ue={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},he=n("path",{fill:"currentColor",d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z"},null,-1),ve=[he];function me(m,c){return s(),i("svg",ue,ve)}var pe={name:"mdi-close",render:me};const _e={class:"home-view"},fe=["src"],be={class:"home-view--search"},ge=["onKeyup"],we=["onClick"],ye=["onClick"],ke={class:"home-view--list"},xe={key:0,class:"home-view--no-results"},Ce={class:"message"},$e={__name:"HomeView",setup(m){const{currentRoute:c,push:g}=T(),r=v([]),l=v(""),u=v(!1),h=v(null),p=v(null),R=[{key:"alpha",label:"Alphabetically"},{key:"date",label:"Date Created"}],V=[{key:"author",label:"Author"},{key:"tag",label:"Tags"}];Y(async()=>{D()});const D=()=>{var e;u.value=!0,h.value=c.value.params.filterBy,p.value=(e=c.value.params)==null?void 0:e.sortBy,r.value=k(),w(p.value),u.value=!1},H=new URL("/assets/loading.f90db703.png",self.location).href,I=e=>{const o=e.seriesTitle;o?window.location.href=`/#/blog/${encodeURIComponent(o)}/${encodeURIComponent(e.title)}`:window.location.href=`/#/blog/${encodeURIComponent(e.title)}`},B=()=>{u.value=!0;const e=[],o=l.value.toLowerCase();h.value?r.value.forEach(a=>{h.value==="tag"?a.tags&&a.tags.join(" ").toLowerCase().includes(o)&&e.push(a):a.authorName.toLowerCase().includes(o)&&e.push(a)}):p.value?r.value.forEach(a=>{a.title.toLowerCase().includes(o)&&e.push(a)}):r.value.forEach(a=>{a.title.toLowerCase().includes(o)&&e.push(a)}),r.value=e,u.value=!1},M=()=>{l.value=""};Z(l,()=>{l.value||(r.value=k())});const A=()=>{g({name:"Home"}).then(()=>{r.value=k(),w(p.value),l.value=""})},F=e=>{c.value.params.sortBy===e?A():g({name:"Sort",params:{sortBy:e}}).then(()=>{h.value=e,w(e)})},K=e=>{c.value.params.filterBy===e?A():g({name:"Filter",params:{filterBy:e}}).then(()=>{h.value=e})},w=e=>{e==="date"?r.value.sort((o,a)=>a.createdAt-o.createdAt):r.value.sort((o,a)=>o.title.localeCompare(a.title))};return(e,o)=>{const a=pe,N=de,U=se,j=ee;return s(),i("div",_e,[u.value?(s(),i("img",{key:0,src:_(H),height:"30",width:"30",alt:"loading",class:"spinner"},null,8,fe)):x("",!0),n("div",be,[P(n("input",{id:"search","onUpdate:modelValue":o[0]||(o[0]=t=>l.value=t),placeholder:"Search...",onKeyup:q(B,["enter"])},null,40,ge),[[z,l.value]]),l.value.length>0?(s(),i("button",{key:0,class:"clear-button",onClick:M},[d(a)])):x("",!0),n("button",{class:"icon-button",title:"Search",onClick:B},[d(N,{class:"one-rem"})]),d(_(S),null,{trigger:f(()=>[n("button",{class:b(["icon-button",{filtering:e.$route.name==="Filter"}]),title:"Filter"},[d(U,{class:"one-rem"})],2)]),drop:f(()=>[(s(),i(C,null,$(V,t=>n("div",{key:t.key,class:b(["menu-drop-item",{"item-active":e.$route.params.filterBy===t.key}]),onClick:y=>K(t.key)},L(t.label),11,we)),64))]),_:1}),d(_(S),{class:"menu"},{trigger:f(()=>[n("button",{class:b(["icon-button",{sorting:e.$route.name==="Sort"}]),title:"Sort"},[d(j,{class:"one-rem"})],2)]),drop:f(()=>[(s(),i(C,null,$(R,t=>n("div",{key:t.key,class:b(["menu-drop-item",{"item-active":e.$route.params.sortBy===t.key}]),onClick:y=>F(t.key)},L(t.label),11,ye)),64))]),_:1})]),n("div",ke,[(s(!0),i(C,null,$(r.value,(t,y)=>(s(),G(_(J),{key:y,title:t.title,"created-at":t.createdAt,"author-name":t.authorName,"author-link":t.authorLink,"author-avatar":t.authorAvatar,"content-length":t.contentLength,tags:t.tags,banner:t.banner,onClick:Le=>I(t)},null,8,["title","created-at","author-name","author-link","author-avatar","content-length","tags","banner","onClick"]))),128)),r.value.length===0?(s(),i("div",xe,[n("div",Ce,'Sorry, no results found for "'+L(l.value)+'"',1),n("button",{onClick:M},"Reset Search")])):x("",!0)])])}}};var Ae=E($e,[["__scopeId","data-v-77b7fdeb"]]);export{Ae as default};
