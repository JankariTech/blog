import{o as a,c as n,a as o,u as O,b as E,d as h,n as v,e as y,t as m,h as H,f as x,w as k,g as K,r as G,F as $,i as M,j as f,_ as J,k as Q,l as _,m as W,p as S,S as N,q as X,s as ee,v as te,x as ae,y as oe,D,z as ne,A as re}from"./index.3b90541b.js";const ie={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},se=o("path",{fill:"currentColor",d:"M3 5h18v4H3V5m0 5h18v4H3v-4m0 5h18v4H3v-4Z"},null,-1),le=[se];function ce(t,c){return a(),n("svg",ie,le)}var de={name:"mdi-view-sequential",render:ce};const he={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ue=o("path",{fill:"currentColor",d:"M3 19h6v-7H3v7m7 0h12v-7H10v7M3 5v6h19V5H3Z"},null,-1),me=[ue];function ve(t,c){return a(),n("svg",he,me)}var ge={name:"mdi-view-compact",render:ve};const fe={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},be=o("path",{fill:"currentColor",d:"m18 21l-4-4h3V7h-3l4-4l4 4h-3v10h3M2 19v-2h10v2M2 13v-2h7v2M2 7V5h4v2H2Z"},null,-1),pe=[be];function _e(t,c){return a(),n("svg",fe,pe)}var we={name:"mdi-sort",render:_e};const ke={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ye=o("path",{fill:"currentColor",d:"M14 12v7.88c.04.3-.06.62-.29.83a.996.996 0 0 1-1.41 0l-2.01-2.01a.989.989 0 0 1-.29-.83V12h-.03L4.21 4.62a1 1 0 0 1 .17-1.4c.19-.14.4-.22.62-.22h14c.22 0 .43.08.62.22a1 1 0 0 1 .17 1.4L14.03 12H14Z"},null,-1),xe=[ye];function $e(t,c){return a(),n("svg",ke,xe)}var Me={name:"mdi-filter",render:$e};const Le={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ce=o("path",{fill:"currentColor",d:"M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5l-1.5 1.5l-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16A6.5 6.5 0 0 1 3 9.5A6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14S14 12 14 9.5S12 5 9.5 5Z"},null,-1),Be=[Ce];function Se(t,c){return a(),n("svg",Le,Be)}var Ae={name:"mdi-search",render:Se};const Ve={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Re=o("path",{fill:"currentColor",d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z"},null,-1),He=[Re];function Ne(t,c){return a(),n("svg",Ve,He)}var De={name:"mdi-close",render:Ne};const Te={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ye=o("path",{fill:"currentColor",d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7c0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3a3 3 0 0 0-3-3a3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3a3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66c0 1.61 1.31 2.91 2.92 2.91c1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"},null,-1),je=[Ye];function Ie(t,c){return a(),n("svg",Te,je)}var qe={name:"mdi-share-variant",render:Ie};const ze=["src"],Fe=o("div",{class:"blog-peek--divider"},null,-1),Pe={class:"blog-peek--author"},Ue=["src"],Ze={class:"author-info"},Oe=["href","title"],Ee={key:1,class:"author-name"},Ke={class:"created-at",title:"Created Timestamp"},Ge={class:"blog-peek--content"},Je={class:"tags"},Qe={key:0,class:"blog-peek--footer"},We={"aria-label":"Share",title:"Share Post",class:"icon-button"},Xe={class:"read-time"},et={computed:{minutesToRead(){return Math.round(this.contentLength/(100*6))}}},tt=Object.assign(et,{__name:"BlogPeek",props:{title:{type:String,required:!0},tags:{type:Array,required:!0},authorName:{type:String,required:!0},authorAvatar:{type:String,required:!0},authorLink:{type:String,default:null},createdAt:{type:[Date,String],required:!0},contentLength:{type:Number,default:0},detailView:{type:Boolean,default:!1},banner:{type:String,default:null}},setup(t){const c=new URL("/assets/fallback_banner_dark.69cbc58b.png",self.location).href,w=new URL("/assets/fallback_banner.05e83917.png",self.location).href,{dark:l}=O(),d=E(()=>l.value?c:w);return(g,b)=>{const p=qe;return a(),n("div",{class:v(["blog-peek",{"small-shadow":!t.detailView&&!h(l),"small-shadow-dark":!t.detailView&&h(l)}])},[o("div",{class:v(["blog-peek--banner",{"blog-peek--banner--fallback":!t.banner}])},[t.banner||h(d)?(a(),n("img",{key:0,src:t.banner||h(d),alt:"Blog Banner",class:v({"fallback-banner":!t.banner,"regular-banner":t.banner})},null,10,ze)):y("",!0)],2),Fe,o("div",Pe,[o("img",{src:t.authorAvatar,class:"author-avatar circle",alt:"Author Avatar"},null,8,Ue),o("div",Ze,[t.authorLink?(a(),n("a",{key:0,href:t.authorLink,target:"_blank",title:t.authorName,class:"author-link"},m(t.authorName),9,Oe)):(a(),n("div",Ee,m(t.authorName),1)),o("div",Ke,m(h(H)(t.createdAt).format("MMM DD, YYYY"))+" ("+m(h(H)(t.createdAt).fromNow())+") ",1)])]),o("div",Ge,[(a(),x(G(t.detailView?"h1":"h3"),{class:"blog-title"},{default:k(()=>[K(m(t.title),1)]),_:1})),o("div",Je,[(a(!0),n($,null,M(t.tags,(u,L)=>(a(),n("span",{key:L,class:"tag-item"}," #"+m(u),1))),128))])]),t.detailView?y("",!0):(a(),n("div",Qe,[o("button",We,[f(p,{class:"one-rem"})]),o("div",Xe,m(g.minutesToRead)+" minutes of read ",1)]))],2)}}});const at={class:"home-view"},ot=["src"],nt={class:"home-view--search"},rt=["onKeyup"],it={class:"home-view--search--actions"},st=["onClick"],lt=["onClick"],ct=["title"],dt={key:0,class:"home-view--no-results"},ht={class:"message"},ut={__name:"HomeView",setup(t){const{currentRoute:c,push:w}=Q(),l=_([]),d=_(""),g=_(!1),b=_(null),p=_(null),u=_(null);W(async()=>{L()});const L=()=>{var e;g.value=!0,b.value=c.value.params.filterBy,p.value=(e=c.value.params)==null?void 0:e.sortBy,l.value=S(),C(p.value),g.value=!1,u.value=N.getHomeViewMode()},T=X("../imgs/loading.png");ee(d,()=>{d.value||(l.value=S())});const Y=()=>{u.value=u.value==="list"?"grid":"list",N.saveHomeViewMode(u.value)},j=e=>{const s=e.seriesTitle;s?window.location.href=`/#/blog/${encodeURIComponent(s)}/${encodeURIComponent(e.title)}`:window.location.href=`/#/blog/${encodeURIComponent(e.title)}`},A=()=>{g.value=!0;const e=[],s=d.value.toLowerCase();b.value?l.value.forEach(i=>{b.value==="tag"?i.tags&&i.tags.join(" ").toLowerCase().includes(s)&&e.push(i):i.authorName.toLowerCase().includes(s)&&e.push(i)}):p.value?l.value.forEach(i=>{i.title.toLowerCase().includes(s)&&e.push(i)}):l.value.forEach(i=>{i.title.toLowerCase().includes(s)&&e.push(i)}),l.value=e,g.value=!1},V=()=>{d.value=""},R=()=>{w({name:"Home"}).then(()=>{l.value=S(),C(p.value),d.value=""})},I=e=>{c.value.params.sortBy===e?R():w({name:"Sort",params:{sortBy:e}}).then(()=>{b.value=e,C(e)})},q=e=>{c.value.params.filterBy===e?R():w({name:"Filter",params:{filterBy:e}}).then(()=>{b.value=e})},C=e=>{e==="date"?l.value.sort((s,i)=>i.createdAt-s.createdAt):l.value.sort((s,i)=>s.title.localeCompare(i.title))};return(e,s)=>{const i=De,z=Ae,F=Me,P=we,U=ge,Z=de;return a(),n("div",at,[g.value?(a(),n("img",{key:0,src:h(T),height:"30",width:"30",alt:"Loading Spinner",class:"spinner"},null,8,ot)):y("",!0),o("div",nt,[te(o("input",{id:"search",class:"home-view--search--input","onUpdate:modelValue":s[0]||(s[0]=r=>d.value=r),placeholder:"Search...",onKeyup:oe(A,["enter"])},null,40,rt),[[ae,d.value]]),o("div",it,[d.value.length>0?(a(),n("button",{key:0,class:"clear-button",onClick:V},[f(i)])):y("",!0),o("button",{class:"icon-button",title:"Search",onClick:A},[f(z,{class:"one-rem"})]),f(h(D),null,{trigger:k(()=>[o("button",{class:v(["icon-button",{filtering:e.$route.name==="Filter"}]),title:"Filter"},[f(F,{class:"one-rem"})],2)]),drop:k(()=>[(a(!0),n($,null,M(h(ne),r=>(a(),n("div",{key:r.key,class:v(["menu-drop-item",{"item-active":e.$route.params.filterBy===r.key}]),onClick:B=>q(r.key)},m(r.label),11,st))),128))]),_:1}),f(h(D),{class:"menu"},{trigger:k(()=>[o("button",{class:v(["icon-button",{sorting:e.$route.name==="Sort"}]),title:"Sort"},[f(P,{class:"one-rem"})],2)]),drop:k(()=>[(a(!0),n($,null,M(h(re),r=>(a(),n("div",{key:r.key,class:v(["menu-drop-item",{"item-active":e.$route.params.sortBy===r.key}]),onClick:B=>I(r.key)},m(r.label),11,lt))),128))]),_:1}),o("button",{class:v(["icon-button",{sorting:e.$route.name==="Sort"}]),title:u.value==="list"?"Grid View":"List View",onClick:s[1]||(s[1]=r=>Y())},[u.value==="list"?(a(),x(U,{key:0,class:"one-rem"})):(a(),x(Z,{key:1,class:"one-rem"}))],10,ct)])]),o("div",{class:v({"home-view--list":u.value==="list","home-view--grid":u.value!=="list"})},[(a(!0),n($,null,M(l.value,(r,B)=>(a(),x(h(tt),{key:B,title:r.title,"created-at":r.createdAt,"author-name":r.authorName,"author-link":r.authorLink,"author-avatar":r.authorAvatar,"content-length":r.contentLength,tags:r.tags,banner:r.banner,onClick:mt=>j(r)},null,8,["title","created-at","author-name","author-link","author-avatar","content-length","tags","banner","onClick"]))),128)),l.value.length===0?(a(),n("div",dt,[o("div",ht,'Sorry, no results found for "'+m(d.value)+'"',1),o("button",{onClick:V},"Reset Search")])):y("",!0)],2)])}}};var gt=J(ut,[["__scopeId","data-v-ecfef3be"]]);export{gt as default};
