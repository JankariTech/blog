import{o,c as s,a,g as D,u as Q,b as q,d as c,n as g,e as w,t as u,h as y,F as B,r as S,f,_ as W,i as X,j as m,k as ee,l as L,S as P,w as te,m as ae,v as ne,p as oe,q as C,s as x,x as se,D as R,y as le}from"./index.dcf7f061.js";import{t as re}from"./tracker.d5d900f2.js";const ie={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ce=a("path",{fill:"currentColor",d:"M3 5h18v4H3V5m0 5h18v4H3v-4m0 5h18v4H3v-4Z"},null,-1),ue=[ce];function de(n,r){return o(),s("svg",ie,ue)}var he={name:"mdi-view-sequential",render:de};const _e={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ve=a("path",{fill:"currentColor",d:"M3 19h6v-7H3v7m7 0h12v-7H10v7M3 5v6h19V5H3Z"},null,-1),me=[ve];function ge(n,r){return o(),s("svg",_e,me)}var fe={name:"mdi-view-compact",render:ge};const pe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ke=a("path",{fill:"currentColor",d:"m18 21l-4-4h3V7h-3l4-4l4 4h-3v10h3M2 19v-2h10v2M2 13v-2h7v2M2 7V5h4v2H2Z"},null,-1),we=[ke];function be(n,r){return o(),s("svg",pe,we)}var $e={name:"mdi-sort",render:be};const ye={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Le=a("path",{fill:"currentColor",d:"M14 12v7.88c.04.3-.06.62-.29.83a.996.996 0 0 1-1.41 0l-2.01-2.01a.989.989 0 0 1-.29-.83V12h-.03L4.21 4.62a1 1 0 0 1 .17-1.4c.19-.14.4-.22.62-.22h14c.22 0 .43.08.62.22a1 1 0 0 1 .17 1.4L14.03 12H14Z"},null,-1),Ce=[Le];function Be(n,r){return o(),s("svg",ye,Ce)}var Se={name:"mdi-filter",render:Be};const Me={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ae=a("path",{fill:"currentColor",d:"M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5l-1.5 1.5l-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16A6.5 6.5 0 0 1 3 9.5A6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14S14 12 14 9.5S12 5 9.5 5Z"},null,-1),Ve=[Ae];function He(n,r){return o(),s("svg",Me,Ve)}var xe={name:"mdi-search",render:He};const De={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ne=a("path",{fill:"currentColor",d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z"},null,-1),Te=[Ne];function Pe(n,r){return o(),s("svg",De,Te)}var Re={name:"mdi-close",render:Pe};const qe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ie=a("path",{fill:"currentColor",d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7c0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3a3 3 0 0 0-3-3a3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3a3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66c0 1.61 1.31 2.91 2.92 2.91c1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"},null,-1),Ye=[Ie];function Fe(n,r){return o(),s("svg",qe,Ye)}var Ue={name:"mdi-share-variant",render:Fe};const Ze={class:"blog-peek"},Oe=["src"],Ee=a("div",{class:"blog-peek--divider"},null,-1),Ke={class:"blog-peek--author"},je=["src"],ze={class:"author-info"},Ge=["href","title"],Je={key:1,class:"author-name"},Qe={class:"created-at",title:"Created Timestamp"},We={key:2,class:"updated-at",title:"Updated Timestamp"},Xe={class:"blog-peek--content"},et={class:"blog-title"},tt={class:"tags"},at={key:0,class:"blog-peek--footer"},nt={"aria-label":"Share",title:"Share Post",class:"icon-button"},ot={class:"read-time"},st={computed:{minutesToRead(){return Math.round(this.contentLength/(100*6))}}},lt=Object.assign(st,{__name:"BlogPeek",props:{title:{type:String,required:!0},tags:{type:Array,required:!0},authorName:{type:String,required:!0},authorAvatar:{type:String,required:!0},authorLink:{type:String,default:null},createdAt:{type:[Date,String],required:!0},updatedAt:{type:[Date,String],required:!0},contentLength:{type:Number,default:0},detailView:{type:Boolean,default:!1},banner:{type:String,default:null}},setup(n){const r=D("fallback_banner_dark"),b=D("fallback_banner"),{dark:_}=Q(),d=q(()=>_.value?r:b);return(i,p)=>{const v=Ue;return o(),s("div",Ze,[a("div",{class:g(["blog-peek--banner",{"blog-peek--banner--fallback":!n.banner}])},[n.banner||c(d)?(o(),s("img",{key:0,src:n.banner||c(d),alt:"Blog Banner",class:g({"fallback-banner":!n.banner,"regular-banner":n.banner})},null,10,Oe)):w("",!0)],2),Ee,a("div",Ke,[a("img",{src:n.authorAvatar,class:"author-avatar circle",alt:"Author Avatar"},null,8,je),a("div",ze,[n.authorLink?(o(),s("a",{key:0,href:n.authorLink,target:"_blank",title:n.authorName,class:"author-link"},u(n.authorName),9,Ge)):(o(),s("div",Je,u(n.authorName),1)),a("div",Qe," Published: "+u(c(y)(n.createdAt).format("MMMM DD, YYYY"))+" ("+u(c(y)(n.createdAt).fromNow())+") ",1),n.updatedAt?(o(),s("div",We," Last Updated: "+u(c(y)(n.updatedAt).format("MMMM DD, YYYY"))+" ("+u(c(y)(n.updatedAt).fromNow())+") ",1)):w("",!0)])]),a("div",Xe,[a("div",et,u(n.title),1),a("div",tt,[(o(!0),s(B,null,S(n.tags,(k,h)=>(o(),s("div",{key:h,class:"tag-item"}," #\xA0"+u(k),1))),128))])]),n.detailView?w("",!0):(o(),s("div",at,[a("button",nt,[f(v,{class:"one-rem"})]),a("div",ot,u(i.minutesToRead)+" minutes of read ",1)]))])}}});const rt={class:"home-view"},it=["src"],ct={class:"home-view--search"},ut=["placeholder","onKeyup"],dt={class:"home-view--search--actions"},ht=["onClick"],_t=["onClick"],vt=["title"],mt={key:0,class:"home-view--no-results"},gt={class:"message"},ft={__name:"HomeView",setup(n){const{currentRoute:r,push:b}=X(),_=m([]),d=m(""),i=m([]),p=m(!1),v=m(null),k=m(null),h=m(null),M=m("");ee(async()=>{Y(),re.trackPageView()});const I=q(()=>r.value.params.filterBy?"search by "+M.value:"search"),Y=()=>{var e;p.value=!0,v.value=r.value.params.filterBy,k.value=(e=r.value.params)==null?void 0:e.sortBy,_.value=L(),i.value=L(),V(k.value),p.value=!1,h.value=P.getHomeViewMode(),v.value&&(M.value=v.value)},F=D("loading");te(d,()=>{d.value||(_.value=L(),i.value=_.value)});const U=()=>{h.value=h.value==="list"?"grid":"list",P.saveHomeViewMode(h.value)},Z=e=>{const t=e.seriesTitle;t?window.location.href=`/#/blog/${encodeURIComponent(t)}/${encodeURIComponent(e.title)}`:window.location.href=`/#/blog/${encodeURIComponent(e.title)}`},N=()=>{p.value=!0;const e=d.value.toLowerCase();i.value=[],v.value?_.value.forEach(t=>{switch(v.value){case"tag":t.tags&&t.tags.join(" ").toLowerCase().includes(e)&&i.value.push(t);break;case"author":t.authorName.toLowerCase().includes(e)&&i.value.push(t);break;case"title":t.title.toLowerCase().includes(e)&&i.value.push(t);break}}):k.value?_.value.forEach(t=>{t.title.toLowerCase().includes(e)&&i.value.push(t)}):_.value.forEach(t=>{(t.tags&&t.tags.join(" ").toLowerCase().includes(e)||t.authorName.toLowerCase().includes(e)||t.title.toLowerCase().includes(e))&&i.value.push(t)}),p.value=!1},A=()=>{d.value=""},T=()=>{b({name:"Home"}).then(()=>{_.value=L(),V(k.value),A()})},O=e=>{r.value.params.sortBy===e?T():b({name:"Sort",params:{sortBy:e}}).then(()=>{v.value=e,V(e)})},E=e=>{r.value.params.filterBy===e?T():(M.value=e,b({name:"Filter",params:{filterBy:e}}).then(()=>{v.value=e}))},V=e=>{e==="alpha"?i.value.sort((t,$)=>t.title.localeCompare($.title)):i.value.sort((t,$)=>$.createdAt-t.createdAt)};return(e,t)=>{const $=Re,K=xe,j=Se,z=$e,G=fe,J=he;return o(),s("div",rt,[p.value?(o(),s("img",{key:0,src:c(F),height:"30",width:"30",alt:"Loading Spinner",class:"spinner"},null,8,it)):w("",!0),a("div",ct,[ae(a("input",{id:"search",class:"home-view--search--input","onUpdate:modelValue":t[0]||(t[0]=l=>d.value=l),placeholder:c(I),onKeyup:oe(N,["enter"])},null,40,ut),[[ne,d.value]]),a("div",dt,[d.value.length>0?(o(),s("button",{key:0,class:"clear-button",onClick:A},[f($)])):w("",!0),a("button",{class:"icon-button",title:"Search",onClick:N},[f(K,{class:"one-rem"})]),f(c(R),null,{trigger:C(()=>[a("button",{class:g(["icon-button",{filtering:e.$route.name==="Filter"}]),title:"Filter"},[f(j,{class:"one-rem"})],2)]),drop:C(()=>[(o(!0),s(B,null,S(c(se),l=>(o(),s("div",{key:l.key,class:g(["menu-drop-item",{"item-active":e.$route.params.filterBy===l.key}]),onClick:H=>E(l.key)},u(l.label),11,ht))),128))]),_:1}),f(c(R),{class:"menu"},{trigger:C(()=>[a("button",{class:g(["icon-button",{sorting:e.$route.name==="Sort"}]),title:"Sort"},[f(z,{class:"one-rem"})],2)]),drop:C(()=>[(o(!0),s(B,null,S(c(le),l=>(o(),s("div",{key:l.key,class:g(["menu-drop-item",{"item-active":e.$route.params.sortBy===l.key}]),onClick:H=>O(l.key)},u(l.label),11,_t))),128))]),_:1}),a("button",{class:g(["icon-button",{sorting:e.$route.name==="Sort"}]),title:h.value==="list"?"Grid View":"List View",onClick:t[1]||(t[1]=l=>U())},[h.value==="list"?(o(),x(G,{key:0,class:"one-rem"})):(o(),x(J,{key:1,class:"one-rem"}))],10,vt)])]),a("div",{class:g({"home-view--list":h.value==="list","home-view--grid":h.value!=="list"})},[(o(!0),s(B,null,S(i.value,(l,H)=>(o(),x(c(lt),{key:H,title:l.title,"created-at":l.createdAt,"updated-at":l.updatedAt,"author-name":l.authorName,"author-link":l.authorLink,"author-avatar":l.authorAvatar,"content-length":l.contentLength,tags:l.tags,banner:l.banner,onClick:pt=>Z(l)},null,8,["title","created-at","updated-at","author-name","author-link","author-avatar","content-length","tags","banner","onClick"]))),128)),i.value.length===0?(o(),s("div",mt,[a("div",gt,'Sorry, no results found for "'+u(d.value)+'"',1),a("button",{onClick:A},"Reset Search")])):w("",!0)],2)])}}};var bt=W(ft,[["__scopeId","data-v-3476abc1"]]);export{bt as default};
