import{o as a,c as n,a as t,g as A,u as K,b as U,d as m,n as v,e as w,t as u,h as N,F as x,r as $,f as p,_ as G,i as J,j as f,k as Q,l as L,S as D,w as W,m as X,v as ee,p as te,q as y,D as T,s as S,x as ae,y as oe}from"./index.1a2a71d2.js";const ne={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},re=t("path",{fill:"currentColor",d:"M3 5h18v4H3V5m0 5h18v4H3v-4m0 5h18v4H3v-4Z"},null,-1),ie=[re];function se(o,l){return a(),n("svg",ne,ie)}var le={name:"mdi-view-sequential",render:se};const ce={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},de=t("path",{fill:"currentColor",d:"M3 19h6v-7H3v7m7 0h12v-7H10v7M3 5v6h19V5H3Z"},null,-1),he=[de];function ue(o,l){return a(),n("svg",ce,he)}var me={name:"mdi-view-compact",render:ue};const ve={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ge=t("path",{fill:"currentColor",d:"m18 21l-4-4h3V7h-3l4-4l4 4h-3v10h3M2 19v-2h10v2M2 13v-2h7v2M2 7V5h4v2H2Z"},null,-1),pe=[ge];function be(o,l){return a(),n("svg",ve,pe)}var _e={name:"mdi-sort",render:be};const fe={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ke=t("path",{fill:"currentColor",d:"M14 12v7.88c.04.3-.06.62-.29.83a.996.996 0 0 1-1.41 0l-2.01-2.01a.989.989 0 0 1-.29-.83V12h-.03L4.21 4.62a1 1 0 0 1 .17-1.4c.19-.14.4-.22.62-.22h14c.22 0 .43.08.62.22a1 1 0 0 1 .17 1.4L14.03 12H14Z"},null,-1),we=[ke];function ye(o,l){return a(),n("svg",fe,we)}var xe={name:"mdi-filter",render:ye};const $e={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Me=t("path",{fill:"currentColor",d:"M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5l-1.5 1.5l-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16A6.5 6.5 0 0 1 3 9.5A6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14S14 12 14 9.5S12 5 9.5 5Z"},null,-1),Be=[Me];function Ce(o,l){return a(),n("svg",$e,Be)}var Le={name:"mdi-search",render:Ce};const Se={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ae=t("path",{fill:"currentColor",d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z"},null,-1),Ve=[Ae];function Re(o,l){return a(),n("svg",Se,Ve)}var He={name:"mdi-close",render:Re};const Ne={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},De=t("path",{fill:"currentColor",d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7c0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3a3 3 0 0 0-3-3a3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3a3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66c0 1.61 1.31 2.91 2.92 2.91c1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"},null,-1),Te=[De];function Ye(o,l){return a(),n("svg",Ne,Te)}var je={name:"mdi-share-variant",render:Ye};const Ie={class:"blog-peek"},qe=["src"],ze=t("div",{class:"blog-peek--divider"},null,-1),Fe={class:"blog-peek--author"},Pe=["src"],Ze={class:"author-info"},Oe=["href","title"],Ee={key:1,class:"author-name"},Ke={class:"created-at",title:"Created Timestamp"},Ue={class:"blog-peek--content"},Ge={class:"blog-title"},Je={class:"tags"},Qe={key:0,class:"blog-peek--footer"},We={"aria-label":"Share",title:"Share Post",class:"icon-button"},Xe={class:"read-time"},et={computed:{minutesToRead(){return Math.round(this.contentLength/(100*6))}}},tt=Object.assign(et,{__name:"BlogPeek",props:{title:{type:String,required:!0},tags:{type:Array,required:!0},authorName:{type:String,required:!0},authorAvatar:{type:String,required:!0},authorLink:{type:String,default:null},createdAt:{type:[Date,String],required:!0},contentLength:{type:Number,default:0},detailView:{type:Boolean,default:!1},banner:{type:String,default:null}},setup(o){const l=A("fallback_banner_dark"),k=A("fallback_banner"),{dark:c}=K(),d=U(()=>c.value?l:k);return(g,b)=>{const _=je;return a(),n("div",Ie,[t("div",{class:v(["blog-peek--banner",{"blog-peek--banner--fallback":!o.banner}])},[o.banner||m(d)?(a(),n("img",{key:0,src:o.banner||m(d),alt:"Blog Banner",class:v({"fallback-banner":!o.banner,"regular-banner":o.banner})},null,10,qe)):w("",!0)],2),ze,t("div",Fe,[t("img",{src:o.authorAvatar,class:"author-avatar circle",alt:"Author Avatar"},null,8,Pe),t("div",Ze,[o.authorLink?(a(),n("a",{key:0,href:o.authorLink,target:"_blank",title:o.authorName,class:"author-link"},u(o.authorName),9,Oe)):(a(),n("div",Ee,u(o.authorName),1)),t("div",Ke,u(m(N)(o.createdAt).format("MMM DD, YYYY"))+" ("+u(m(N)(o.createdAt).fromNow())+") ",1)])]),t("div",Ue,[t("div",Ge,u(o.title),1),t("div",Je,[(a(!0),n(x,null,$(o.tags,(h,M)=>(a(),n("span",{key:M,class:"tag-item"}," #\xA0"+u(h),1))),128))])]),o.detailView?w("",!0):(a(),n("div",Qe,[t("button",We,[p(_,{class:"one-rem"})]),t("div",Xe,u(g.minutesToRead)+" minutes of read ",1)]))])}}});const at={class:"home-view"},ot=["src"],nt={class:"home-view--search"},rt=["onKeyup"],it={class:"home-view--search--actions"},st=["onClick"],lt=["onClick"],ct=["title"],dt={key:0,class:"home-view--no-results"},ht={class:"message"},ut={__name:"HomeView",setup(o){const{currentRoute:l,push:k}=J(),c=f([]),d=f(""),g=f(!1),b=f(null),_=f(null),h=f(null);Q(async()=>{M()});const M=()=>{var e;g.value=!0,b.value=l.value.params.filterBy,_.value=(e=l.value.params)==null?void 0:e.sortBy,c.value=L(),B(_.value),g.value=!1,h.value=D.getHomeViewMode()},Y=A("loading");W(d,()=>{d.value||(c.value=L())});const j=()=>{h.value=h.value==="list"?"grid":"list",D.saveHomeViewMode(h.value)},I=e=>{const s=e.seriesTitle;s?window.location.href=`/#/blog/${encodeURIComponent(s)}/${encodeURIComponent(e.title)}`:window.location.href=`/#/blog/${encodeURIComponent(e.title)}`},V=()=>{g.value=!0;const e=[],s=d.value.toLowerCase();b.value?c.value.forEach(i=>{b.value==="tag"?i.tags&&i.tags.join(" ").toLowerCase().includes(s)&&e.push(i):i.authorName.toLowerCase().includes(s)&&e.push(i)}):_.value?c.value.forEach(i=>{i.title.toLowerCase().includes(s)&&e.push(i)}):c.value.forEach(i=>{i.title.toLowerCase().includes(s)&&e.push(i)}),c.value=e,g.value=!1},R=()=>{d.value=""},H=()=>{k({name:"Home"}).then(()=>{c.value=L(),B(_.value),d.value=""})},q=e=>{l.value.params.sortBy===e?H():k({name:"Sort",params:{sortBy:e}}).then(()=>{b.value=e,B(e)})},z=e=>{l.value.params.filterBy===e?H():k({name:"Filter",params:{filterBy:e}}).then(()=>{b.value=e})},B=e=>{e==="date"?c.value.sort((s,i)=>i.createdAt-s.createdAt):c.value.sort((s,i)=>s.title.localeCompare(i.title))};return(e,s)=>{const i=He,F=Le,P=xe,Z=_e,O=me,E=le;return a(),n("div",at,[g.value?(a(),n("img",{key:0,src:m(Y),height:"30",width:"30",alt:"Loading Spinner",class:"spinner"},null,8,ot)):w("",!0),t("div",nt,[X(t("input",{id:"search",class:"home-view--search--input","onUpdate:modelValue":s[0]||(s[0]=r=>d.value=r),placeholder:"Search...",onKeyup:te(V,["enter"])},null,40,rt),[[ee,d.value]]),t("div",it,[d.value.length>0?(a(),n("button",{key:0,class:"clear-button",onClick:R},[p(i)])):w("",!0),t("button",{class:"icon-button",title:"Search",onClick:V},[p(F,{class:"one-rem"})]),p(m(T),null,{trigger:y(()=>[t("button",{class:v(["icon-button",{filtering:e.$route.name==="Filter"}]),title:"Filter"},[p(P,{class:"one-rem"})],2)]),drop:y(()=>[(a(!0),n(x,null,$(m(ae),r=>(a(),n("div",{key:r.key,class:v(["menu-drop-item",{"item-active":e.$route.params.filterBy===r.key}]),onClick:C=>z(r.key)},u(r.label),11,st))),128))]),_:1}),p(m(T),{class:"menu"},{trigger:y(()=>[t("button",{class:v(["icon-button",{sorting:e.$route.name==="Sort"}]),title:"Sort"},[p(Z,{class:"one-rem"})],2)]),drop:y(()=>[(a(!0),n(x,null,$(m(oe),r=>(a(),n("div",{key:r.key,class:v(["menu-drop-item",{"item-active":e.$route.params.sortBy===r.key}]),onClick:C=>q(r.key)},u(r.label),11,lt))),128))]),_:1}),t("button",{class:v(["icon-button",{sorting:e.$route.name==="Sort"}]),title:h.value==="list"?"Grid View":"List View",onClick:s[1]||(s[1]=r=>j())},[h.value==="list"?(a(),S(O,{key:0,class:"one-rem"})):(a(),S(E,{key:1,class:"one-rem"}))],10,ct)])]),t("div",{class:v({"home-view--list":h.value==="list","home-view--grid":h.value!=="list"})},[(a(!0),n(x,null,$(c.value,(r,C)=>(a(),S(m(tt),{key:C,title:r.title,"created-at":r.createdAt,"author-name":r.authorName,"author-link":r.authorLink,"author-avatar":r.authorAvatar,"content-length":r.contentLength,tags:r.tags,banner:r.banner,onClick:mt=>I(r)},null,8,["title","created-at","author-name","author-link","author-avatar","content-length","tags","banner","onClick"]))),128)),c.value.length===0?(a(),n("div",dt,[t("div",ht,'Sorry, no results found for "'+u(d.value)+'"',1),t("button",{onClick:R},"Reset Search")])):w("",!0)],2)])}}};var gt=G(ut,[["__scopeId","data-v-28eaacb6"]]);export{gt as default};
